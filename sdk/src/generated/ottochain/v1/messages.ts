// Code generated by protoc-gen-ts_proto. DO NOT EDIT.
// versions:
//   protoc-gen-ts_proto  v2.11.2
//   protoc               v6.33.5
// source: ottochain/v1/messages.proto

/* eslint-disable */
import { FiberOrdinal } from "./common";
import { AccessControlPolicy, StateMachineDefinition } from "./fiber";

export const protobufPackage = "ottochain.v1";

/** Create a new state machine fiber */
export interface CreateStateMachine {
  fiberId: string;
  definition?: StateMachineDefinition | undefined;
  initialData?: any | undefined;
  parentFiberId?: string | undefined;
}

/** Trigger a state machine transition */
export interface TransitionStateMachine {
  fiberId: string;
  eventName: string;
  payload?: any | undefined;
  targetSequenceNumber?: FiberOrdinal | undefined;
}

/** Archive a state machine fiber */
export interface ArchiveStateMachine {
  fiberId: string;
  targetSequenceNumber?: FiberOrdinal | undefined;
}

/** Create a new script fiber */
export interface CreateScript {
  fiberId: string;
  scriptProgram?: any | undefined;
  initialState?: any | undefined;
  accessControl?: AccessControlPolicy | undefined;
}

/** Invoke a script */
export interface InvokeScript {
  fiberId: string;
  method: string;
  args?: any | undefined;
  targetSequenceNumber?: FiberOrdinal | undefined;
}

/** Union message type for all OttoChain operations */
export interface OttochainMessage {
  message?:
    | { $case: "createStateMachine"; createStateMachine: CreateStateMachine }
    | { $case: "transitionStateMachine"; transitionStateMachine: TransitionStateMachine }
    | { $case: "archiveStateMachine"; archiveStateMachine: ArchiveStateMachine }
    | { $case: "createScript"; createScript: CreateScript }
    | { $case: "invokeScript"; invokeScript: InvokeScript }
    | undefined;
}

function createBaseCreateStateMachine(): CreateStateMachine {
  return { fiberId: "", definition: undefined, initialData: undefined, parentFiberId: undefined };
}

export const CreateStateMachine: MessageFns<CreateStateMachine> = {
  fromJSON(object: any): CreateStateMachine {
    return {
      fiberId: isSet(object.fiberId)
        ? globalThis.String(object.fiberId)
        : isSet(object.fiber_id)
        ? globalThis.String(object.fiber_id)
        : "",
      definition: isSet(object.definition) ? StateMachineDefinition.fromJSON(object.definition) : undefined,
      initialData: isSet(object?.initialData)
        ? object.initialData
        : isSet(object?.initial_data)
        ? object.initial_data
        : undefined,
      parentFiberId: isSet(object.parentFiberId)
        ? globalThis.String(object.parentFiberId)
        : isSet(object.parent_fiber_id)
        ? globalThis.String(object.parent_fiber_id)
        : undefined,
    };
  },

  toJSON(message: CreateStateMachine): unknown {
    const obj: any = {};
    if (message.fiberId !== "") {
      obj.fiberId = message.fiberId;
    }
    if (message.definition !== undefined) {
      obj.definition = StateMachineDefinition.toJSON(message.definition);
    }
    if (message.initialData !== undefined) {
      obj.initialData = message.initialData;
    }
    if (message.parentFiberId !== undefined) {
      obj.parentFiberId = message.parentFiberId;
    }
    return obj;
  },

  create<I extends Exact<DeepPartial<CreateStateMachine>, I>>(base?: I): CreateStateMachine {
    return CreateStateMachine.fromPartial(base ?? ({} as any));
  },
  fromPartial<I extends Exact<DeepPartial<CreateStateMachine>, I>>(object: I): CreateStateMachine {
    const message = createBaseCreateStateMachine();
    message.fiberId = object.fiberId ?? "";
    message.definition = (object.definition !== undefined && object.definition !== null)
      ? StateMachineDefinition.fromPartial(object.definition)
      : undefined;
    message.initialData = object.initialData ?? undefined;
    message.parentFiberId = object.parentFiberId ?? undefined;
    return message;
  },
};

function createBaseTransitionStateMachine(): TransitionStateMachine {
  return { fiberId: "", eventName: "", payload: undefined, targetSequenceNumber: undefined };
}

export const TransitionStateMachine: MessageFns<TransitionStateMachine> = {
  fromJSON(object: any): TransitionStateMachine {
    return {
      fiberId: isSet(object.fiberId)
        ? globalThis.String(object.fiberId)
        : isSet(object.fiber_id)
        ? globalThis.String(object.fiber_id)
        : "",
      eventName: isSet(object.eventName)
        ? globalThis.String(object.eventName)
        : isSet(object.event_name)
        ? globalThis.String(object.event_name)
        : "",
      payload: isSet(object?.payload) ? object.payload : undefined,
      targetSequenceNumber: isSet(object.targetSequenceNumber)
        ? FiberOrdinal.fromJSON(object.targetSequenceNumber)
        : isSet(object.target_sequence_number)
        ? FiberOrdinal.fromJSON(object.target_sequence_number)
        : undefined,
    };
  },

  toJSON(message: TransitionStateMachine): unknown {
    const obj: any = {};
    if (message.fiberId !== "") {
      obj.fiberId = message.fiberId;
    }
    if (message.eventName !== "") {
      obj.eventName = message.eventName;
    }
    if (message.payload !== undefined) {
      obj.payload = message.payload;
    }
    if (message.targetSequenceNumber !== undefined) {
      obj.targetSequenceNumber = FiberOrdinal.toJSON(message.targetSequenceNumber);
    }
    return obj;
  },

  create<I extends Exact<DeepPartial<TransitionStateMachine>, I>>(base?: I): TransitionStateMachine {
    return TransitionStateMachine.fromPartial(base ?? ({} as any));
  },
  fromPartial<I extends Exact<DeepPartial<TransitionStateMachine>, I>>(object: I): TransitionStateMachine {
    const message = createBaseTransitionStateMachine();
    message.fiberId = object.fiberId ?? "";
    message.eventName = object.eventName ?? "";
    message.payload = object.payload ?? undefined;
    message.targetSequenceNumber = (object.targetSequenceNumber !== undefined && object.targetSequenceNumber !== null)
      ? FiberOrdinal.fromPartial(object.targetSequenceNumber)
      : undefined;
    return message;
  },
};

function createBaseArchiveStateMachine(): ArchiveStateMachine {
  return { fiberId: "", targetSequenceNumber: undefined };
}

export const ArchiveStateMachine: MessageFns<ArchiveStateMachine> = {
  fromJSON(object: any): ArchiveStateMachine {
    return {
      fiberId: isSet(object.fiberId)
        ? globalThis.String(object.fiberId)
        : isSet(object.fiber_id)
        ? globalThis.String(object.fiber_id)
        : "",
      targetSequenceNumber: isSet(object.targetSequenceNumber)
        ? FiberOrdinal.fromJSON(object.targetSequenceNumber)
        : isSet(object.target_sequence_number)
        ? FiberOrdinal.fromJSON(object.target_sequence_number)
        : undefined,
    };
  },

  toJSON(message: ArchiveStateMachine): unknown {
    const obj: any = {};
    if (message.fiberId !== "") {
      obj.fiberId = message.fiberId;
    }
    if (message.targetSequenceNumber !== undefined) {
      obj.targetSequenceNumber = FiberOrdinal.toJSON(message.targetSequenceNumber);
    }
    return obj;
  },

  create<I extends Exact<DeepPartial<ArchiveStateMachine>, I>>(base?: I): ArchiveStateMachine {
    return ArchiveStateMachine.fromPartial(base ?? ({} as any));
  },
  fromPartial<I extends Exact<DeepPartial<ArchiveStateMachine>, I>>(object: I): ArchiveStateMachine {
    const message = createBaseArchiveStateMachine();
    message.fiberId = object.fiberId ?? "";
    message.targetSequenceNumber = (object.targetSequenceNumber !== undefined && object.targetSequenceNumber !== null)
      ? FiberOrdinal.fromPartial(object.targetSequenceNumber)
      : undefined;
    return message;
  },
};

function createBaseCreateScript(): CreateScript {
  return { fiberId: "", scriptProgram: undefined, initialState: undefined, accessControl: undefined };
}

export const CreateScript: MessageFns<CreateScript> = {
  fromJSON(object: any): CreateScript {
    return {
      fiberId: isSet(object.fiberId)
        ? globalThis.String(object.fiberId)
        : isSet(object.fiber_id)
        ? globalThis.String(object.fiber_id)
        : "",
      scriptProgram: isSet(object?.scriptProgram)
        ? object.scriptProgram
        : isSet(object?.script_program)
        ? object.script_program
        : undefined,
      initialState: isSet(object?.initialState)
        ? object.initialState
        : isSet(object?.initial_state)
        ? object.initial_state
        : undefined,
      accessControl: isSet(object.accessControl)
        ? AccessControlPolicy.fromJSON(object.accessControl)
        : isSet(object.access_control)
        ? AccessControlPolicy.fromJSON(object.access_control)
        : undefined,
    };
  },

  toJSON(message: CreateScript): unknown {
    const obj: any = {};
    if (message.fiberId !== "") {
      obj.fiberId = message.fiberId;
    }
    if (message.scriptProgram !== undefined) {
      obj.scriptProgram = message.scriptProgram;
    }
    if (message.initialState !== undefined) {
      obj.initialState = message.initialState;
    }
    if (message.accessControl !== undefined) {
      obj.accessControl = AccessControlPolicy.toJSON(message.accessControl);
    }
    return obj;
  },

  create<I extends Exact<DeepPartial<CreateScript>, I>>(base?: I): CreateScript {
    return CreateScript.fromPartial(base ?? ({} as any));
  },
  fromPartial<I extends Exact<DeepPartial<CreateScript>, I>>(object: I): CreateScript {
    const message = createBaseCreateScript();
    message.fiberId = object.fiberId ?? "";
    message.scriptProgram = object.scriptProgram ?? undefined;
    message.initialState = object.initialState ?? undefined;
    message.accessControl = (object.accessControl !== undefined && object.accessControl !== null)
      ? AccessControlPolicy.fromPartial(object.accessControl)
      : undefined;
    return message;
  },
};

function createBaseInvokeScript(): InvokeScript {
  return { fiberId: "", method: "", args: undefined, targetSequenceNumber: undefined };
}

export const InvokeScript: MessageFns<InvokeScript> = {
  fromJSON(object: any): InvokeScript {
    return {
      fiberId: isSet(object.fiberId)
        ? globalThis.String(object.fiberId)
        : isSet(object.fiber_id)
        ? globalThis.String(object.fiber_id)
        : "",
      method: isSet(object.method) ? globalThis.String(object.method) : "",
      args: isSet(object?.args) ? object.args : undefined,
      targetSequenceNumber: isSet(object.targetSequenceNumber)
        ? FiberOrdinal.fromJSON(object.targetSequenceNumber)
        : isSet(object.target_sequence_number)
        ? FiberOrdinal.fromJSON(object.target_sequence_number)
        : undefined,
    };
  },

  toJSON(message: InvokeScript): unknown {
    const obj: any = {};
    if (message.fiberId !== "") {
      obj.fiberId = message.fiberId;
    }
    if (message.method !== "") {
      obj.method = message.method;
    }
    if (message.args !== undefined) {
      obj.args = message.args;
    }
    if (message.targetSequenceNumber !== undefined) {
      obj.targetSequenceNumber = FiberOrdinal.toJSON(message.targetSequenceNumber);
    }
    return obj;
  },

  create<I extends Exact<DeepPartial<InvokeScript>, I>>(base?: I): InvokeScript {
    return InvokeScript.fromPartial(base ?? ({} as any));
  },
  fromPartial<I extends Exact<DeepPartial<InvokeScript>, I>>(object: I): InvokeScript {
    const message = createBaseInvokeScript();
    message.fiberId = object.fiberId ?? "";
    message.method = object.method ?? "";
    message.args = object.args ?? undefined;
    message.targetSequenceNumber = (object.targetSequenceNumber !== undefined && object.targetSequenceNumber !== null)
      ? FiberOrdinal.fromPartial(object.targetSequenceNumber)
      : undefined;
    return message;
  },
};

function createBaseOttochainMessage(): OttochainMessage {
  return { message: undefined };
}

export const OttochainMessage: MessageFns<OttochainMessage> = {
  fromJSON(object: any): OttochainMessage {
    return {
      message: isSet(object.createStateMachine)
        ? { $case: "createStateMachine", createStateMachine: CreateStateMachine.fromJSON(object.createStateMachine) }
        : isSet(object.create_state_machine)
        ? { $case: "createStateMachine", createStateMachine: CreateStateMachine.fromJSON(object.create_state_machine) }
        : isSet(object.transitionStateMachine)
        ? {
          $case: "transitionStateMachine",
          transitionStateMachine: TransitionStateMachine.fromJSON(object.transitionStateMachine),
        }
        : isSet(object.transition_state_machine)
        ? {
          $case: "transitionStateMachine",
          transitionStateMachine: TransitionStateMachine.fromJSON(object.transition_state_machine),
        }
        : isSet(object.archiveStateMachine)
        ? {
          $case: "archiveStateMachine",
          archiveStateMachine: ArchiveStateMachine.fromJSON(object.archiveStateMachine),
        }
        : isSet(object.archive_state_machine)
        ? {
          $case: "archiveStateMachine",
          archiveStateMachine: ArchiveStateMachine.fromJSON(object.archive_state_machine),
        }
        : isSet(object.createScript)
        ? { $case: "createScript", createScript: CreateScript.fromJSON(object.createScript) }
        : isSet(object.create_script)
        ? { $case: "createScript", createScript: CreateScript.fromJSON(object.create_script) }
        : isSet(object.invokeScript)
        ? { $case: "invokeScript", invokeScript: InvokeScript.fromJSON(object.invokeScript) }
        : isSet(object.invoke_script)
        ? { $case: "invokeScript", invokeScript: InvokeScript.fromJSON(object.invoke_script) }
        : undefined,
    };
  },

  toJSON(message: OttochainMessage): unknown {
    const obj: any = {};
    if (message.message?.$case === "createStateMachine") {
      obj.createStateMachine = CreateStateMachine.toJSON(message.message.createStateMachine);
    } else if (message.message?.$case === "transitionStateMachine") {
      obj.transitionStateMachine = TransitionStateMachine.toJSON(message.message.transitionStateMachine);
    } else if (message.message?.$case === "archiveStateMachine") {
      obj.archiveStateMachine = ArchiveStateMachine.toJSON(message.message.archiveStateMachine);
    } else if (message.message?.$case === "createScript") {
      obj.createScript = CreateScript.toJSON(message.message.createScript);
    } else if (message.message?.$case === "invokeScript") {
      obj.invokeScript = InvokeScript.toJSON(message.message.invokeScript);
    }
    return obj;
  },

  create<I extends Exact<DeepPartial<OttochainMessage>, I>>(base?: I): OttochainMessage {
    return OttochainMessage.fromPartial(base ?? ({} as any));
  },
  fromPartial<I extends Exact<DeepPartial<OttochainMessage>, I>>(object: I): OttochainMessage {
    const message = createBaseOttochainMessage();
    switch (object.message?.$case) {
      case "createStateMachine": {
        if (object.message?.createStateMachine !== undefined && object.message?.createStateMachine !== null) {
          message.message = {
            $case: "createStateMachine",
            createStateMachine: CreateStateMachine.fromPartial(object.message.createStateMachine),
          };
        }
        break;
      }
      case "transitionStateMachine": {
        if (object.message?.transitionStateMachine !== undefined && object.message?.transitionStateMachine !== null) {
          message.message = {
            $case: "transitionStateMachine",
            transitionStateMachine: TransitionStateMachine.fromPartial(object.message.transitionStateMachine),
          };
        }
        break;
      }
      case "archiveStateMachine": {
        if (object.message?.archiveStateMachine !== undefined && object.message?.archiveStateMachine !== null) {
          message.message = {
            $case: "archiveStateMachine",
            archiveStateMachine: ArchiveStateMachine.fromPartial(object.message.archiveStateMachine),
          };
        }
        break;
      }
      case "createScript": {
        if (object.message?.createScript !== undefined && object.message?.createScript !== null) {
          message.message = {
            $case: "createScript",
            createScript: CreateScript.fromPartial(object.message.createScript),
          };
        }
        break;
      }
      case "invokeScript": {
        if (object.message?.invokeScript !== undefined && object.message?.invokeScript !== null) {
          message.message = {
            $case: "invokeScript",
            invokeScript: InvokeScript.fromPartial(object.message.invokeScript),
          };
        }
        break;
      }
    }
    return message;
  },
};

type Builtin = Date | Function | Uint8Array | string | number | boolean | undefined;

export type DeepPartial<T> = T extends Builtin ? T
  : T extends globalThis.Array<infer U> ? globalThis.Array<DeepPartial<U>>
  : T extends ReadonlyArray<infer U> ? ReadonlyArray<DeepPartial<U>>
  : T extends { $case: string } ? { [K in keyof Omit<T, "$case">]?: DeepPartial<T[K]> } & { $case: T["$case"] }
  : T extends {} ? { [K in keyof T]?: DeepPartial<T[K]> }
  : Partial<T>;

type KeysOfUnion<T> = T extends T ? keyof T : never;
export type Exact<P, I extends P> = P extends Builtin ? P
  : P & { [K in keyof P]: Exact<P[K], I[K]> } & { [K in Exclude<keyof I, KeysOfUnion<P>>]: never };

function isSet(value: any): boolean {
  return value !== null && value !== undefined;
}

export interface MessageFns<T> {
  fromJSON(object: any): T;
  toJSON(message: T): unknown;
  create<I extends Exact<DeepPartial<T>, I>>(base?: I): T;
  fromPartial<I extends Exact<DeepPartial<T>, I>>(object: I): T;
}
